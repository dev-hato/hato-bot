<!-- markdownlint-disable MD024 -->

# Changelog

- このプロジェクトに対するすべての重要な変更は、このファイルに文書化されます。
- バージョンごとに変更点を記載します。変更の種類については次のとおりです。
  - `Added` 新機能について。
  - `Changed` 既存機能の変更について。
  - `Removed` 削除された機能について。
  - `Fixed` バグ修正について。

## Unrelease

### Added

- Misskeyモード時に、連合先からのメンションに応答するかを選べるようになりました。(#4267)

## v3.0.4

### Note

- Misskeyのトークン発行時に、リアクションを操作するの権限が必要になりました。(#3834)

### Added

- Misskeyでコマンドを受理した際に、リアクションを付与するようになりました。(#3834)

### Changed

- Misskey投稿時に、フォロワーやダイレクトのリプライに対して、同じ投稿範囲で返すようになりました。(#3837)

### Fixed

- ログが出力されない問題を修正しました。(#3838)
- Misskeyでtext listの結果がコードブロックとして表示されない問題を修正しました。(#3833)

## v3.0.3

### Changed

- Misskey投稿時の投稿範囲はホームになりました。(#3771)

## v3.0.2

### Note

- Misskey v2023.12.2以降では、tokenにアカウントの情報を見るの権限が必要になりました。(#3529)

### Added

- pingしたらpongを返すようになりました。(#2768)

### Changed

- slack sdkを置き換えました。(#2668, #2697)

### Fixed

- Misskeyと切断されるとエラーが出て復帰しない問題を修正しました。(#2764)
- MisskeyではUTF-8絵文字は変換済みにして送信するように修正しました。(#2489)
- Misskeyでメンションに反応しない問題を修正しました。(#2763)

## v3.0.1 - 2023-04-06

### Fixed

- helpコマンドが動かない問題を修正しました。(#2429)

## v3.0.0 - 2023-03-09

### Added

- Discordに対応しました。(#2372)
- Misskeyに対応しました。(#2386)
- ChatGPTで文章を作成する機能を追加しました。(#2364)
- openAIのImage generationで画像生成する機能を追加しました。(#2383)

## v2.4.4 - 2022-11-30

### Fixed

- textlintコマンドが動作しない問題を再修正しました。(#1970)

## v2.4.3 - 2022-11-29

### Fixed

- textlintコマンドが動作しない問題を修正しました。(#1970)

## v2.4.2 - 2022-11-28

### Added

- textlintコマンドを追加しました。 (#1919)

### Changed

- ameshの描画エンジンを新しくしました。(#997)

### Removed

- Herokuのサポートを終了しました。(#1454, #1719)

## v2.4.1 - 2022-07-15

### Fixed

- ameshが動作しない問題を修正しました。(#1229)

## v2.4.0 - 2022-04-06

### Added

- 東京電力管内の電力使用率を取得する機能を追加しました。(#902)
- botの開発時にlinterが使用可能になりました。(#875)

### Fixed

- おみくじ機能の小吉の絵文字が表示されない問題を修正しました。(#893)

## v2.3.0 - 2022-03-09

### Added

- おみくじ機能を追加しました。(#253)

## v2.2.3 - 2022-02-23

### Changed

- Python 3.9.10をサポート対象に変更しました。(#807)
- 使用するdockerイメージをalpineからbullseyeへ変更しました。(#832)

## v2.2.2 - 2022-02-11

### Changed

- 死活監視のためのページにバージョン情報を追加しました。(#804)

### Fixed

- docker compose時の `TAG_NAME` を指定する際のコマンドを修正しました。(#802)

## v2.2.1 - 2022-02-11

### Fixed

- docker compose時に `TAG_NAME` を指定する記述を追加しました。(#788)

## v2.2.0 - 2022-02-10

### Added

- `amesh [郵便番号]` で郵便番号の雨雲情報を取得できる様になりました。
- 死活監視のため200レスポンスを返却するページを追加しました。(#782)
- Docker imageをGitHub Packagesへ登録しました。(#784)

### Changed

- OS再起動時にdockerコンテナも自動起動するように変更しました。(#734, #785)

### Fixed

- コードやURLを含むコマンドも平文として解釈するように修正しました。(#778)

## v2.1.1 - 2021-06-17

### Fixed

- リクエスト再送による重複投稿をなくしました。(#620)

## v2.1.0 - 2021-06-13

### Changed

- Python3.9でも動作するようにしました。(3.7以前については動作確認を実施しません)

### Fixed

- `amesh` が機能しない問題を修正しました。
- バージョン情報でコミットハッシュがCommit Noneとなってしまう問題を修正しました。

## v2.0.2 - 2020-11-03

### Added

- 標高を取得できる機能を追加しました。(#358)
- 「にゃーん」と呟くと「よしよし」と慰める機能を追加しました。(#428)

### Fixed

- `docker-compose up` で鳩botが起動しない問題を修正しました。

### Changed

- postgresqlのバージョンが変更になりました。setup/pgsql-dataを使用している場合、データを移行する必要があります。
- ライブラリのバージョンアップ対応しました。
- バージョン情報でコミットハッシュが表示されるようになりました。(#287)

## v2.0.1 - 2020-08-23

### Fixed

- `docker-compose up` で鳩botが起動しない問題を修正しました。(#281)
- `post_command.py` が動作しない問題を修正しました。(#270)
- 初回起動時に不要なテーブルをデータベースに作成する問題を修正しました。(#231)

## v2.0.0 - 2020-08-15

### Added

- 新しいSlack API(Event API)に対応しました。(この対応により、Slack API Tokenの取得方法が変更になります) (#127)
- `amesh [地名]` で地名の雨雲情報を取得できる様になりました。(#97)

### Changed

- `text add` 時の文字列にはプレーンテキストのみ指定可能となりました。
- Botの起動時に返答が複数回返ってくることがあります。(#146)

### Removed

- 天気コマンドは利用していたAPIサービスが終了したため廃止しました。(#189)
- らぼったあ機能は廃止しました。(#191)

## v1.1.0 - 2020-07-18

### Added

- hato-botがDockerでも動くようになりました。(#100)

### Changed

- Python3.7でも動作するように修正しました。(#108)
- DBライブラリをpg8000からpsycopg2へ変更しました。(#112)

## v1.0.4 - 2020-06-06

### Changed

- DockerのpostgresqlもSSLに対応しました。(#66)
- Readmeに機能説明とTokenを発行する手順ページのリンクを追加しました。(#78)
- 天気コマンドを入力したときに全角スペースでも反応するように修正しました。(#80)

### Removed

- `amesh kyoto` コマンドは削除されました。(#83)

## v1.0.3 - 2020-05-23

### Added

- Botのアイコン画像を同梱しました。(#46)
- `text random` でパワーワードをランダム表示できるようになりました。(#50)

### Fixed

- 不要なライブラリの削除やリファクタリングを行いました。
- `help` に記載していなかったコマンドを記載しました。

## v1.0.2 - 2020-05-11

### Fixed

- Deploy to HerokuしたときにDBが作成されない問題を修正しました。

## v1.0.1 - 2020-05-11

### Changed

- `><` 実行時の文字列に「鳩」を含めると「鳩は唐揚げ」と返すようにしました。

## v1.0.0 - 2020-05-09

### Fixed

- コピー&ペーストしたコマンドで反応しなかった問題を修正しました。
- eqコマンドで最大震度が取得できなかった場合にエラーとなる問題を修正しました。

## v0.4.0 - 2020-05-09

### Changed

- amesh時にYahoo APIを使うように変更しました。

## v0.3.2 - 2020-02-14

### Fixed

- `text list` したときに登録されている単語がない場合、その旨を返すように修正しました。

## v0.3.1 - 2020-01-26

### Added

- 地震情報を表示できるようになりました。

## v0.3.0 - 2020-01-26

### Added

- パワーワードを覚えられるようになりました。
- 出退勤時間を計算する機能を追加しました。(簡易版labotter)

### Changed

- 動作環境にPostgreSQLが必須となりました。
- バージョン管理システムにpipenvを使うようになりました。

### Fixed

- Deploy to Herokuボタンを押下し、60秒経つとbotが落ちる問題を修正しました。

## v0.2.0 - 2020-01-18

### Added

- READMEにDeploy to Herokuボタンを追加しました。
- Changelogを追加しました。
- `.env` ファイルで環境変数を設定できるようにしました。

### Changed

- amesh時にbotがメッセージを返すタイミングを早くしました。(体感時間を短縮するため)

### Fixed

- amesh時に使用する画像が削除されない問題を修正しました。
